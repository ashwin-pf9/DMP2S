!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="05bf1239-fe81-44db-ab38-a37d68486b11",e._sentryDebugIdIdentifier="sentry-dbid-05bf1239-fe81-44db-ab38-a37d68486b11")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2281],{62923:function(e,t,n){var s=n(22825);e.exports=function(e){return(null==e?0:e.length)?s(e,1):[]}},11177:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/settings/general",function(){return n(84114)}])},67628:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var s=n(97458),r=n(94059),a=n(73565),o=n(55228),i=e=>{let{page:t,menu:n}=e;return(0,s.jsx)("div",{className:"flex flex-col space-y-8 overflow-y-auto","data-sentry-component":"ProductMenu","data-sentry-source-file":"ProductMenu.tsx",children:(0,s.jsx)(r.ZP,{type:"pills","data-sentry-element":"Menu","data-sentry-source-file":"ProductMenu.tsx",children:n.map((e,i)=>(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"my-6 space-y-8",children:(0,s.jsxs)("div",{className:"mx-3",children:[(0,s.jsx)(r.ZP.Group,{title:e.title?(0,s.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,s.jsx)("span",{children:e.title}),e.isPreview&&(0,s.jsx)(a.C,{variant:"warning",children:"Not production ready"})]}):null}),(0,s.jsx)("div",{children:e.items.map(e=>{let n=e.pages?e.pages.includes(t):t===e.key;return(0,s.jsx)(o.Z,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:n,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key)})})]})}),i!==n.length-1&&(0,s.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}},12329:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var s=n(28894),r=n(6464),a=n(94315);async function o(e,t){let{installationId:n}=e;if(!n)throw Error("installationId is required");let{data:s,error:a}=await (0,r.U2)("/platform/vercel/redirect/{installation_id}",{params:{path:{installation_id:n}},signal:t});return a&&(0,r.S3)(a),s}let i=function(e){let{installationId:t}=e,{enabled:n=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,s.a)(a.F.vercelRedirect(t),e=>{let{signal:n}=e;return o({installationId:t},n)},{enabled:n&&void 0!==t,...r})}},30588:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var s=n(64618),r=n(34549),a=n(6464);async function o(e){let{ref:t,identifier:n}=e,s={};void 0!==n&&(s.database_identifier=n);let{data:r,error:o}=await (0,a.v_)("/platform/projects/{ref}/restart",{params:{path:{ref:t}},body:s});return o&&(0,a.S3)(o),r}let i=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.D)(e=>o(e),{async onSuccess(t,n,s){await (null==e?void 0:e(t,n,s))},async onError(e,n,s){void 0===t?r.Am.error("Failed to restart project: ".concat(e.message)):t(e,n,s)},...n})}},50497:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(98266).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},13510:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(98266).Z)("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]])},28519:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(98266).Z)("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]])},58296:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(98266).Z)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]])},26056:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(98266).Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},71042:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(98266).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},30653:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(98266).Z)("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]])},53972:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(98266).Z)("PanelLeftDashed",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 14v1",key:"askpd8"}],["path",{d:"M9 19v2",key:"16tejx"}],["path",{d:"M9 3v2",key:"1noubl"}],["path",{d:"M9 9v1",key:"19ebxg"}]])},31769:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(98266).Z)("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]])},5211:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(98266).Z)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},29285:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(98266).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},31584:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var s=n(97458),r=n(12436),a=n(79398),o=n(96142),i=n(21853),l=n(73385),c=n(68),d=n(77270),u=n(71042),m=n(83145),f=n.n(m),x=n(32691),p=n(52983),h=n(37756),y=n(65092),j=n(90839),g=n(3503),v=n(34730),b=()=>{let e=(0,x.useRouter)(),[t,n]=(0,p.useState)(!1),{ref:a}=(0,r.UO)();return(0,s.jsxs)("div",{className:"h-14 w-full flex flex-row md:hidden","data-sentry-component":"MobileNavigationBar","data-sentry-source-file":"MobileNavigationBar.tsx",children:[(0,s.jsxs)("nav",{className:(0,y.cn)("group px-4 z-10 w-full h-14","border-b bg-dash-sidebar border-default shadow-xl","transition-width duration-200","hide-scrollbar flex flex-row items-center justify-between overflow-x-auto"),children:[(0,s.jsx)(f(),{href:h.Qy?"/projects":"/project/".concat(a),className:"flex items-center h-[26px] w-[26px] min-w-[26px]","data-sentry-element":"Link","data-sentry-source-file":"MobileNavigationBar.tsx",children:(0,s.jsx)("img",{alt:"Supabase",src:"".concat(e.basePath,"/img/supabase-logo.svg"),className:"absolute h-[26px] w-[26px] cursor-pointer rounded"})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(g.av,{"data-sentry-element":"CommandMenuTrigger","data-sentry-source-file":"MobileNavigationBar.tsx",children:(0,s.jsx)("button",{className:(0,y.cn)("group","flex-grow h-[30px] rounded-md","p-2","flex items-center justify-between","bg-transparent border-none text-foreground-lighter","hover:bg-opacity-100 hover:border-strong hover:text-foreground-light","focus-visible:!outline-4 focus-visible:outline-offset-1 focus-visible:outline-brand-600","transition"),children:(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsx)(d.Z,{size:18,strokeWidth:2,"data-sentry-element":"Search","data-sentry-source-file":"MobileNavigationBar.tsx"})})})}),(0,s.jsx)("button",{title:"Menu dropdown button",className:(0,y.cn)((0,j.d)({type:"default"}),"flex lg:hidden border-default bg-surface-100/75 text-foreground-light rounded-md min-w-[30px] w-[30px] h-[30px] data-[state=open]:bg-overlay-hover/30"),onClick:()=>n(!0),children:(0,s.jsx)(u.Z,{size:18,strokeWidth:1,"data-sentry-element":"Menu","data-sentry-source-file":"MobileNavigationBar.tsx"})})]})]}),(0,s.jsx)(v.Z,{open:t,onOpenChange:n,"data-state":"expanded","data-sentry-element":"MobileSheetNav","data-sentry-source-file":"MobileNavigationBar.tsx",children:(0,s.jsx)(i.TZ,{"data-sentry-element":"SidebarContent","data-sentry-source-file":"MobileNavigationBar.tsx"})})]})},N=n(88971),w=e=>{let{children:t,showProductMenu:n}=e,{ref:d}=(0,r.UO)();return(0,s.jsx)(l.Hn,{defaultOpen:!1,"data-sentry-element":"SidebarProvider","data-sentry-component":"DefaultLayout","data-sentry-source-file":"DefaultLayout.tsx",children:(0,s.jsx)(N.Ml,{projectRef:d,"data-sentry-element":"ProjectContextProvider","data-sentry-source-file":"DefaultLayout.tsx",children:(0,s.jsx)(o.EA,{"data-sentry-element":"AppBannerContextProvider","data-sentry-source-file":"DefaultLayout.tsx",children:(0,s.jsxs)("div",{className:"flex flex-col h-screen w-screen",children:[(0,s.jsx)(a.l,{"data-sentry-element":"AppBannerWrapper","data-sentry-source-file":"DefaultLayout.tsx"}),(0,s.jsxs)("div",{className:"flex-shrink-0",children:[(0,s.jsx)(b,{"data-sentry-element":"MobileNavigationBar","data-sentry-source-file":"DefaultLayout.tsx"}),(0,s.jsx)(c.N,{showProductMenu:n,"data-sentry-element":"LayoutHeader","data-sentry-source-file":"DefaultLayout.tsx"})]}),(0,s.jsxs)("div",{className:"flex flex-1 w-full overflow-y-hidden",children:[(0,s.jsx)(i.YE,{"data-sentry-element":"Sidebar","data-sentry-source-file":"DefaultLayout.tsx"}),(0,s.jsx)("div",{className:"flex-grow h-full overflow-y-auto",children:t})]})]})})})})}},19697:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var s=n(97458),r=n(32691),a=n(52983),o=n(12436),i=n(67628),l=n(71147),c=n(75541),d=n(62432),u=n(58326),m=n(21786),f=n(37756),x=n(47414),p=n(13510);let h=(e,t,n,r)=>{var a,o,i,l;let c=(null==t?void 0:t.status)===f.S.COMING_UP,d="/project/".concat(e),u=null===(a=null==r?void 0:r.auth)||void 0===a||a,m=null===(o=null==r?void 0:r.edgeFunctions)||void 0===o||o,x=null===(i=null==r?void 0:r.storage)||void 0===i||i,h=null!==(l=null==r?void 0:r.diskAndCompute)&&void 0!==l&&l;return[{title:"Project Settings",items:[{name:"General",key:"general",url:"/project/".concat(e,"/settings/general"),items:[]},...f.Qy&&h?[{name:"Compute and Disk",key:"compute-and-disk",url:"/project/".concat(e,"/settings/compute-and-disk"),items:[]}]:[],{name:"Infrastructure",key:"infrastructure",url:c?d:"/project/".concat(e,"/settings/infrastructure"),items:[]},...f.Qy?[{name:"Integrations",key:"integrations",url:"/project/".concat(e,"/settings/integrations"),items:[]},...(null==r?void 0:r.newApiKeys)?[{name:"API Keys",key:"api-keys",url:"/project/".concat(e,"/settings/api-keys"),items:[],label:"NEW"}]:[]]:[],{name:"Add Ons",key:"addons",url:"/project/".concat(e,"/settings/addons"),items:[]},{name:"Vault",key:"vault",url:c?d:"/project/".concat(e,"/integrations/vault/overview"),items:[],rightIcon:(0,s.jsx)(p.Z,{strokeWidth:1,className:"h-4 w-4"}),label:"Alpha"}]},{title:"Configuration",items:[{name:"Database",key:"database",url:c?d:"/project/".concat(e,"/settings/database"),items:[]},{name:"Data API",key:"api",url:c?d:"/project/".concat(e,"/settings/api"),items:[]},...f.Qy&&u?[{name:"Authentication",key:"auth",url:c?d:"/project/".concat(e,"/settings/auth"),items:[]}]:[],...f.Qy&&x?[{name:"Storage",key:"storage",url:"/project/".concat(e,"/settings/storage"),items:[]}]:[],...f.Qy&&m?[{name:"Edge Functions",key:"functions",url:"/project/".concat(e,"/functions/secrets"),items:[],rightIcon:(0,s.jsx)(p.Z,{strokeWidth:1,className:"h-4 w-4"})}]:[],...f.Qy?[{name:"Log Drains",key:"log-drains",url:"/project/".concat(e,"/settings/log-drains"),items:[]}]:[]]},{title:"Billing",items:[{name:"Subscription",key:"subscription",url:"/org/".concat(null==n?void 0:n.slug,"/billing"),items:[]},{name:"Usage",key:"usage",url:"/org/".concat(null==n?void 0:n.slug,"/usage?projectRef=").concat(e),items:[]}]}]};var y=(0,u.Q)(e=>{let{title:t,children:n}=e,u=(0,r.useRouter)(),{ref:p}=(0,o.UO)(),y=(0,d.Vm)(),j=(0,c.l)();(0,a.useEffect)(()=>{f.Qy||u.push("/project/default")},[u]);let g=u.pathname.includes("billing")?u.pathname.split("/")[5]:u.pathname.split("/")[4],{projectAuthAll:v,projectEdgeFunctionAll:b,projectStorageAll:N,billingInvoices:w}=(0,l.N)(["project_auth:all","project_edge_function:all","project_storage:all","billing:invoices"]),k=h(p,y,j,{auth:v,edgeFunctions:b,storage:N,invoices:w,diskAndCompute:(0,m.P)("diskAndComputeForm"),newApiKeys:(0,m.P)("newApiKeys")});return(0,s.jsx)(x.Z,{isBlocking:!1,title:t||"Settings",product:"Settings",productMenu:(0,s.jsx)(i.Q,{page:g,menu:k}),"data-sentry-element":"ProjectLayout","data-sentry-component":"SettingsLayout","data-sentry-source-file":"SettingsLayout.tsx",children:n})})},78066:function(e,t,n){"use strict";n.d(t,{CG:function(){return N},FW:function(){return m},I7:function(){return x},Lc:function(){return j},RN:function(){return h},Wv:function(){return v},_S:function(){return c},g$:function(){return y},gW:function(){return w},jX:function(){return f},q7:function(){return u},qw:function(){return p},s_:function(){return l},tM:function(){return g},tU:function(){return d},ur:function(){return b},y:function(){return i}});var s=n(97458),r=n(52983),a=n(86186),o=n(65092);let i="mx-auto w-full max-w-[1200px]",l="px-4 md:px-6 lg:px-14 xl:px-24 2xl:px-28",c=(0,r.forwardRef)((e,t)=>{let{className:n,bottomPadding:r,size:i="default",...c}=e,{aiAssistantPanel:d}=(0,a.WZ)(),{open:u}=d;return(0,s.jsx)("div",{ref:t,...c,className:(0,o.cn)("mx-auto w-full",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[i],l,r&&"pb-16",u?"xl:px-6":"",n)})}),d=(0,r.forwardRef)((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("header",{...r,ref:t,className:(0,o.cn)("w-full","flex-col gap-3 py-6",n)})}),u=(0,r.forwardRef)((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("h1",{ref:t,...r,className:(0,o.cn)("text-2xl",n)})}),m=(0,r.forwardRef)((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("p",{ref:t,...r,className:(0,o.cn)("text-sm text-foreground-light",n)})}),f=(0,r.forwardRef)((e,t)=>{let{className:n,isFullWidth:r,topPadding:a,...i}=e;return(0,s.jsx)("div",{ref:t,...i,className:(0,o.cn)("flex flex-col first:pt-12 py-6",r?"w-full":"gap-3 lg:grid md:grid-cols-12",n)})}),x=(0,r.forwardRef)((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,o.cn)("w-full h-px bg-border",n)})}),p=(0,r.forwardRef)((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("h3",{ref:t,...r,className:(0,o.cn)("text-foreground text-xl",n)})}),h=(0,r.forwardRef)((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("p",{ref:t,...r,className:(0,o.cn)("text-sm text-foreground-light",n)})}),y=(0,r.forwardRef)((e,t)=>{let{className:n,children:r,title:a,...i}=e;return(0,s.jsxs)("div",{ref:t,...i,className:(0,o.cn)("col-span-4 xl:col-span-5 prose text-sm",n),children:[a&&(0,s.jsx)("h2",{children:a}),r]})}),j=(0,r.forwardRef)((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,o.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",n)})}),g=(0,r.forwardRef)((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,o.cn)("flex flex-col gap-3 items-center",n)})}),v=(0,r.forwardRef)((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,o.cn)("flex w-full items-center",n)})}),b=(0,r.forwardRef)((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,o.cn)("flex flex-row gap-3",n)})}),N=(0,r.forwardRef)((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,o.cn)("flex flex-col gap-3","min-w-[420px]",n)})}),w=(0,r.forwardRef)((e,t)=>{let{className:n,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,o.cn)(i,l,"my-8 flex flex-col gap-8",n)})});d.displayName="ScaffoldHeader",u.displayName="ScaffoldTitle",m.displayName="ScaffoldDescription",c.displayName="ScaffoldContainer",x.displayName="ScaffoldDivider",f.displayName="ScaffoldSection",N.displayName="ScaffoldColumn",y.displayName="ScaffoldSectionDetail",j.displayName="ScaffoldSectionContent",g.displayName="ScaffoldFilterAndContent",v.displayName="ScaffoldActionsContainer",b.displayName="ScaffoldActionsGroup",w.displayName="ScaffoldContainerLegacy",p.displayName="ScaffoldSectionTitle",h.displayName="ScaffoldSectionDescription"},59461:function(e,t,n){"use strict";n.d(t,{i:function(){return a}});var s=n(97458),r=n(90839);let a=e=>{let{form:t,hasChanges:n,handleReset:a,helper:o,disabled:i=!1,isSubmitting:l,submitText:c="Save"}=e,d=l||i||!n&&void 0!==n;return(0,s.jsxs)("div",{className:["flex w-full items-center gap-2",o?"justify-between":"justify-end"].join(" "),"data-sentry-component":"FormActions","data-sentry-source-file":"FormActions.tsx",children:[o&&(0,s.jsx)("span",{className:"text-sm text-foreground-lighter",children:o}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(r.z,{disabled:d,type:"default",htmlType:"reset",onClick:()=>a(),"data-sentry-element":"Button","data-sentry-source-file":"FormActions.tsx",children:"Cancel"}),(0,s.jsx)(r.z,{form:t,type:"primary",htmlType:"submit",disabled:d,loading:l,"data-sentry-element":"Button","data-sentry-source-file":"FormActions.tsx",children:c})]})]})}},24083:function(e,t,n){"use strict";n.d(t,{p:function(){return o}});var s=n(97458),r=n(65092),a=n(67096);let o=e=>{let{title:t,description:n,docsUrl:o,actions:i,className:l}=e;return(0,s.jsxs)("div",{className:(0,r.cn)("w-full mb-6 flex flex-col sm:flex-row md:items-center justify-between gap-4 ".concat(l)),"data-sentry-component":"FormHeader","data-sentry-source-file":"FormHeader.tsx",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("h3",{className:"text-foreground text-xl prose",children:t}),n&&(0,s.jsx)("div",{className:"prose text-sm max-w-full",children:n})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row md:items-center gap-x-2",children:[void 0!==o&&(0,s.jsx)(a.G,{href:o}),i]})]})}},87696:function(e,t,n){"use strict";n.d(t,{DO:function(){return c},Tq:function(){return i},by:function(){return o},iL:function(){return l},m9:function(){return d}});var s=n(97458),r=n(52983),a=n(65092);let o=e=>{let{children:t,header:n,footer:r}=e;return(0,s.jsxs)(i,{"data-sentry-element":"FormPanelContainer","data-sentry-component":"FormPanel","data-sentry-source-file":"FormPanel.tsx",children:[n&&(0,s.jsx)(l,{children:n}),(0,s.jsx)(c,{className:"divide-y","data-sentry-element":"FormPanelContent","data-sentry-source-file":"FormPanel.tsx",children:t}),r&&(0,s.jsx)(d,{children:r})]})},i=(0,r.forwardRef)((e,t)=>{let{children:n,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,a.cn)("bg-surface-100 border overflow-hidden rounded-md shadow max-w-full",r.className),children:n})});i.displayName=i.displayName;let l=(0,r.forwardRef)((e,t)=>{let{children:n,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,a.cn)("border-default border-b px-8 py-4",r.className),children:n})});l.displayName=l.displayName;let c=(0,r.forwardRef)((e,t)=>{let{children:n,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,a.cn)("divide-border flex flex-col gap-0",r.className),children:n})});c.displayName=c.displayName;let d=(0,r.forwardRef)((e,t)=>{let{children:n,...r}=e;return(0,s.jsx)("div",{ref:t,...r,className:(0,a.cn)("border-t",r.className),children:n})});d.displayName=d.displayName},46993:function(e,t,n){"use strict";n.d(t,{B4:function(){return l},S0:function(){return o},hj:function(){return a}});var s=n(97458),r=n(52983);let a=e=>{let{children:t,id:n,header:r,disabled:a,className:o}=e;return(0,s.jsxs)("div",{id:n,className:["grid grid-cols-12 gap-6 px-4 md:px-8 py-4 md:py-8","".concat(a?" opacity-30":" opacity-100"),"".concat(o)].join(" "),"data-sentry-component":"FormSection","data-sentry-source-file":"FormSection.tsx",children:[r,t]})},o=e=>{let{children:t,className:n="",description:r}=e;return void 0!==r?(0,s.jsxs)("div",{className:"flex flex-col space-y-2 col-span-12 lg:col-span-5 ".concat(n),children:[(0,s.jsx)("label",{className:"text-foreground text-sm",children:t}),r]}):(0,s.jsx)("label",{className:"text-foreground col-span-12 text-sm lg:col-span-5 ".concat(n),children:t})},i=()=>(0,s.jsxs)("div",{className:"flex w-full flex-col gap-2","data-sentry-component":"Shimmer","data-sentry-source-file":"FormSection.tsx",children:[(0,s.jsx)("div",{className:"shimmering-loader h-2 w-1/3 rounded"}),(0,s.jsx)("div",{className:"flex flex-col justify-between space-y-2",children:(0,s.jsx)("div",{className:"shimmering-loader h-[34px] w-2/3 rounded"})})]}),l=e=>{let{children:t,loading:n=!0,fullWidth:a,className:o}=e;return(0,s.jsx)("div",{className:"\n        relative col-span-12 flex flex-col gap-6 lg:col-span-7\n        ".concat(a&&"!col-span-12","\n        ").concat(o,"\n      "),"data-sentry-component":"FormSectionContent","data-sentry-source-file":"FormSection.tsx",children:n?r.Children.map(t,()=>(0,s.jsx)(i,{})):t})}},41321:function(e,t,n){"use strict";n.d(t,{y:function(){return c}});var s=n(97458),r=n(4839),a=n(12329),o=n(10947),i=n(90839),l=n(6146);let c={"vercel-marketplace":"Vercel Marketplace","aws-marketplace":"AWS Marketplace"};t.Z=function(e){var t,n;let{partner:d,resource:u,cta:m}=e,f=void 0!==m,{data:x,isLoading:p,isError:h}=(0,a.s)({installationId:null==m?void 0:m.installationId},{enabled:f}),y=(null!==(t=null==x?void 0:x.url)&&void 0!==t?t:"")+(null!==(n=null==m?void 0:m.path)&&void 0!==n?n:"");return(0,s.jsxs)(o.bZ,{className:"flex flex-col items-center gap-y-2 border-0 rounded-none","data-sentry-element":"Alert_Shadcn_","data-sentry-component":"PartnerManagedResource","data-sentry-source-file":"PartnerManagedResource.tsx",children:[(0,s.jsx)(l.Z,{organization:{managed_by:d},showTooltip:!1,size:"large","data-sentry-element":"PartnerIcon","data-sentry-source-file":"PartnerManagedResource.tsx"}),(0,s.jsxs)(o.Cd,{className:"text-sm","data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"PartnerManagedResource.tsx",children:[u," are managed by ",c[d],"."]}),f&&(0,s.jsx)(i.z,{asChild:!0,type:"default",iconRight:(0,s.jsx)(r.Z,{}),disabled:p||h,children:(0,s.jsx)("a",{href:y,target:"_blank",rel:"noopener noreferrer",children:m.message||"View ".concat(u," on ").concat(c[d])})})]})}},55228:function(e,t,n){"use strict";var s=n(97458),r=n(83145),a=n.n(r),o=n(94059),i=n(73565),l=n(90839);t.Z=e=>{let{name:t="",isActive:n,isExternal:r,icon:c,rightIcon:d,url:u="",target:m="_self",onClick:f,textClassName:x="",hoverText:p="",label:h}=e,y=(0,s.jsx)(o.ZP.Item,{icon:c,rounded:!0,active:n,onClick:f,children:(0,s.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,s.jsxs)("div",{title:p||("string"==typeof t?t:""),className:"flex items-center gap-2 truncate w-full "+x,children:[(0,s.jsxs)("span",{className:"truncate",children:[t," "]}),void 0!==h&&(0,s.jsx)(i.C,{variant:"warning",className:"py-0 px-1.5 capitalize",children:h})]}),d&&(0,s.jsx)("div",{children:d})]})});return u?r?(0,s.jsx)(l.z,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:c,children:(0,s.jsx)(a(),{href:u,target:"_blank",rel:"noreferrer",children:t})}):(0,s.jsx)(a(),{href:u,className:"block",target:m,children:y}):y}},35336:function(e,t,n){"use strict";var s=n(97458),r=n(198),a=n(83145),o=n.n(a),i=n(69951),l=n(90817),c=n(75541),d=n(62432),u=n(21786),m=n(65092),f=n(90839),x=n(359);t.Z=e=>{var t,n,a;let{icon:p,primaryText:h,secondaryText:y,addon:j,buttonText:g,source:v="upgrade",disabled:b=!1}=e,N=(0,d.Vm)(),w=(0,c.l)(),{data:k}=(0,i.Gl)({orgSlug:null==w?void 0:w.slug}),C=null==k?void 0:null===(t=k.plan)||void 0===t?void 0:t.id,S=(0,l.Xo)(r.KA.BILLING_WRITE,"stripe.subscriptions"),P=(0,u.P)("disableProjectCreationAndUpdate");return(0,s.jsx)("div",{className:(0,m.cn)("block w-full rounded border border-opacity-20 py-4 px-6","border-overlay bg-surface-200"),"data-sentry-component":"UpgradeToPro","data-sentry-source-file":"UpgradeToPro.tsx",children:(0,s.jsxs)("div",{className:"flex gap-x-3",children:[p&&(0,s.jsx)("div",{className:"mt-1",children:p}),(0,s.jsxs)("div",{className:"flex flex-col md:flex-row w-full md:items-center justify-between gap-4 md:gap-x-8 xl:gap-x-32",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-sm",children:h}),(0,s.jsx)("div",{children:(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:y})})]}),!S||P?(0,s.jsx)(x.u,{disabled:!0,type:"primary",tooltip:{content:{side:"bottom",text:P?"Subscription changes are currently disabled, our engineers are working on a fix":S?void 0:"You need additional permissions to amend subscriptions"}},children:"Reset database password"}):(0,s.jsx)(f.z,{asChild:!0,type:"primary",disabled:!S||P||b,children:(0,s.jsx)(o(),{href:"free"===C?"/org/".concat(null!==(n=null==w?void 0:w.slug)&&void 0!==n?n:"_","/billing?panel=subscriptionPlan&source=").concat(v):"/project/".concat(null!==(a=null==N?void 0:N.ref)&&void 0!==a?a:"_","/settings/addons?panel=").concat(j,"&source=").concat(v),children:g||("free"===C?"Upgrade to Pro":"Enable add on")})})]})]})})}},84114:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return te}});var s=n(97458),r=n(45437),a=n(198),o=n(67297),i=n(83145),l=n.n(i),c=n(34549),d=n(88971),u=n(59461),m=n(87696),f=n(46993),x=n(18186),p=n(63621),h=n(36457),y=n(64618),j=n(6464),g=n(71207);async function v(e){let{ref:t,name:n}=e,{data:s,error:r}=await (0,j.r$)("/platform/projects/{ref}",{params:{path:{ref:t}},body:{name:n}});return r&&(0,j.S3)(r),s}let b=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,h.NL)();return(0,y.D)(e=>v(e),{async onSuccess(t,n,r){let{ref:a}=n;await Promise.all([s.invalidateQueries(g.i.list()),s.invalidateQueries(g.i.detail(a))]),await (null==e?void 0:e(t,n,r))},async onError(e,n,s){void 0===t?c.Am.error("Failed to update project: ".concat(e.message)):t(e,n,s)},...n})};var N=n(90817),w=n(75541),k=n(62432),C=n(10947),S=n(7756),P=n(19540),_=n(51571),D=n(90839),A=n(98266);let Z=(0,A.Z)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);var T=n(32691),M=n(52983),L=n(359);async function R(e){let{ref:t}=e,{data:n,error:s}=await (0,j.v_)("/platform/projects/{ref}/pause",{params:{path:{ref:t}}});return s&&(0,j.S3)(s),n}let z=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,y.D)(e=>R(e),{async onSuccess(t,n,s){await (null==e?void 0:e(t,n,s))},async onError(e,n,s){void 0===t?c.Am.error("Failed to pause project: ".concat(e.message)):t(e,n,s)},...n})};var E=n(63278),F=n(69951),B=n(37756),O=n(32002),I=()=>{var e;let t=(0,T.useRouter)(),n=(0,h.NL)(),{project:r}=(0,d.d2)(),o=(0,w.l)(),i=(0,d.gY)(),[l,u]=(0,M.useState)(!1),m=null!==(e=null==r?void 0:r.ref)&&void 0!==e?e:"",f=(null==r?void 0:r.status)===B.S.INACTIVE,x=(0,N.Xo)(a.KA.INFRA_EXECUTE,"queue_jobs.projects.pause"),{data:p}=(0,F.Gl)({orgSlug:null==o?void 0:o.slug}),y=(null==p?void 0:p.plan.id)==="free",{mutate:j,isLoading:g}=z({onSuccess:(e,s)=>{(0,E.k7)(n,s.ref,B.S.PAUSING),c.Am.success("Pausing project..."),t.push("/project/".concat(m))}});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L.u,{type:"default",icon:(0,s.jsx)(Z,{}),onClick:()=>u(!0),loading:g,disabled:!y||void 0===r||f||!x||!i,tooltip:{content:{side:"bottom",text:f?"Your project is already paused":x?i?y?void 0:"Projects on a paid plan will always be running":"Unable to pause project as project is not active":"You need additional permissions to pause this project"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"PauseProjectButton.tsx",children:"Pause project"}),(0,s.jsx)(O.Z,{variant:"destructive",visible:l,loading:g,title:"Pause this project?",confirmLabel:"Pause project",confirmLabelLoading:"Pausing project",onCancel:()=>u(!1),onConfirm:()=>{if(!x)return c.Am.error("You do not have the required permissions to pause this project");j({ref:m})},"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"PauseProjectButton.tsx",children:(0,s.jsx)("p",{className:"text-foreground-light text-sm",children:"Are you sure you want to pause this project? It will not be accessible until you unpause it."})})]})},V=n(98601),q=n(30588);async function U(e){let{ref:t,region:n,services:s=["postgresql"],source_notification_id:r}=e,{data:a,error:o}=await (0,j.v_)("/platform/projects/{ref}/restart-services",{params:{path:{ref:t}},body:{restartRequest:{region:n,services:s,source_notification_id:r}}});return o&&(0,j.S3)(o),a}let W=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,y.D)(e=>U(e),{async onSuccess(t,n,s){await (null==e?void 0:e(t,n,s))},async onError(e,n,s){void 0===t?c.Am.error("Failed to restart project: ".concat(e.message)):t(e,n,s)},...n})};var G=n(21786),Y=n(40577),H=n(65092),X=n(14500),Q=n(32472),K=()=>{var e,t;let n=(0,T.useRouter)(),r=(0,h.NL)(),{project:o}=(0,d.d2)(),i=(0,d.gY)(),[l,u]=(0,M.useState)(),m=null!==(e=null==o?void 0:o.ref)&&void 0!==e?e:"",f=null!==(t=null==o?void 0:o.region)&&void 0!==t?t:"",x=(0,G.P)("disableProjectRestarts"),p=(0,N.Xo)(a.KA.INFRA_EXECUTE,"reboot"),{mutate:y,isLoading:j}=(0,q.D)({onSuccess:()=>{C()},onError:e=>{k(e,"project")}}),{mutate:g,isLoading:v}=W({onSuccess:()=>{C()},onError:e=>{k(e,"database")}}),b=()=>{if(!p)return c.Am.error("You do not have the required permissions to restart this project");y({ref:m})},w=async()=>{if(!p)return c.Am.error("You do not have the required permissions to restart this project");g({ref:m,region:f,services:["postgresql"]})},k=(e,t)=>{c.Am.error("Unable to restart ".concat(t,": ").concat(e.message)),u(void 0)},C=()=>{(0,E.k7)(r,m,"RESTARTING"),c.Am.success("Restarting server..."),n.push("/project/".concat(m)),u(void 0)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(Y.u,{"data-sentry-element":"Tooltip","data-sentry-source-file":"RestartServerButton.tsx",children:[(0,s.jsx)(Y.aJ,{asChild:!0,"data-sentry-element":"TooltipTrigger","data-sentry-source-file":"RestartServerButton.tsx",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(D.z,{type:"default",className:(0,H.cn)("px-3 hover:z-10",p&&i?"rounded-r-none":""),disabled:void 0===o||!p||!i||x,onClick:()=>u("project"),"data-sentry-element":"Button","data-sentry-source-file":"RestartServerButton.tsx",children:"Restart project"}),p&&i&&!x&&(0,s.jsxs)(X.h_,{children:[(0,s.jsx)(X.$F,{asChild:!0,children:(0,s.jsx)(D.z,{type:"default",className:"rounded-l-none px-[4px] py-[5px] -ml-[1px]",icon:(0,s.jsx)(V.Z,{}),disabled:!p})}),(0,s.jsx)(X.AW,{align:"end",side:"bottom",children:(0,s.jsx)(X.Xi,{disabled:j||v,onClick:()=>{u("database")},children:(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"block text-foreground",children:"Fast database reboot"}),(0,s.jsx)("p",{className:"block text-foreground-light",children:"Restarts only the database - faster but may not be able to recover from all failure modes"})]})},"database")})]})]})}),(void 0!==o&&(!p||!i)||x)&&(0,s.jsx)(Y._v,{side:"bottom",children:x?"Project restart is currently disabled":p?i?"":"Unable to restart project as project is not active":"You need additional permissions to restart this project"})]}),(0,s.jsx)(Q.Z,{danger:!0,visible:void 0!==l,title:"Restart ".concat(l),description:(0,s.jsxs)(s.Fragment,{children:["Are you sure you want to restart the"," ",(0,s.jsx)("span",{className:"text-foreground",children:l}),"? There will be a few minutes of downtime."]}),buttonLabel:"Restart",buttonLoadingLabel:"Restarting",onSelectCancel:()=>u(void 0),onSelectConfirm:async()=>{"project"===l?await b():"database"===l&&await w()},"data-sentry-element":"ConfirmModal","data-sentry-source-file":"RestartServerButton.tsx"})]})},J=()=>{var e,t;let{project:n}=(0,d.d2)(),r=(0,w.l)(),i=(0,k.N$)(null==n?void 0:n.parent_project_ref),h=void 0!==i,y="project-general-settings",j={name:null!==(e=null==n?void 0:n.name)&&void 0!==e?e:"",ref:null!==(t=null==n?void 0:n.ref)&&void 0!==t?t:""},g=(0,N.Xo)(a.KA.UPDATE,"projects",{resource:{project_id:null==n?void 0:n.id}}),{mutate:v,isLoading:A}=b(),Z=async(e,t)=>{let{resetForm:s}=t;if(!(null==n?void 0:n.ref))return console.error("Ref is required");v({ref:n.ref,name:e.name.trim()},{onSuccess:e=>{let{name:t}=e;s({values:{name:t},initialValues:{name:t}}),c.Am.success("Successfully saved settings")}})};return(0,s.jsxs)("div",{"data-sentry-component":"General","data-sentry-source-file":"General.tsx",children:[h&&(0,s.jsxs)(C.bZ,{variant:"default",className:"mb-6",children:[(0,s.jsx)(S.aN,{}),(0,s.jsx)(C.Cd,{children:"You are currently on a preview branch of your project"}),(0,s.jsxs)(C.X,{children:["Certain settings are not available while you're on a preview branch. To adjust your project settings, you may return to your"," ",(0,s.jsx)(l(),{href:"/project/".concat(i.ref,"/settings/general"),className:"text-brand",children:"main branch"}),"."]})]}),void 0===n?(0,s.jsx)(p.A,{}):(0,s.jsx)(P.Z,{id:y,initialValues:j,onSubmit:Z,children:e=>{let{handleReset:t,values:n,initialValues:r}=e,a=JSON.stringify(n)!==JSON.stringify(r);return(0,s.jsx)(m.by,{disabled:!g,footer:(0,s.jsx)("div",{className:"flex py-4 px-8",children:(0,s.jsx)(u.i,{form:y,isSubmitting:A,hasChanges:a,handleReset:t,helper:g?void 0:"You need additional permissions to manage this project's settings"})}),children:(0,s.jsx)(f.hj,{header:(0,s.jsx)(f.S0,{children:"General settings"}),children:(0,s.jsxs)(f.B4,{loading:!1,children:[(0,s.jsx)(_.Z,{id:"name",size:"small",label:"Project name",disabled:h||!g}),(0,s.jsx)(_.Z,{copy:!0,disabled:!0,id:"ref",size:"small",label:"Project ID"})]})})})}}),!h&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mt-6",id:"restart-project",children:(0,s.jsxs)(m.by,{children:[(0,s.jsx)("div",{className:"flex flex-col px-8 py-4",children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm",children:"Restart project"}),(0,s.jsx)("div",{className:"max-w-[420px]",children:(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Your project will not be available for a few minutes."})})]}),(0,s.jsx)(K,{})]})}),(0,s.jsxs)("div",{className:"flex w-full items-center justify-between px-8 py-4",id:"pause-project",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm",children:"Pause project"}),(0,s.jsx)("div",{className:"max-w-[420px]",children:(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Your project will not be accessible while it is paused."})})]}),(0,s.jsx)(I,{})]})]})}),(0,s.jsx)("div",{className:"mt-6",children:(0,s.jsx)(x.Z,{children:(0,s.jsx)(x.Z.Content,{children:(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)(o.Z,{strokeWidth:2}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm",children:"Project usage statistics have been moved"}),(0,s.jsx)("p",{className:"text-foreground-light text-sm",children:"You may view your project's usage under your organization's settings"})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(D.z,{asChild:!0,type:"default",children:(0,s.jsx)(l(),{href:"/org/".concat(null==r?void 0:r.slug,"/usage?projectRef=").concat(null==n?void 0:n.ref),children:"View project usage"})})})]})})})})]})]})},$=n(44735),ee=n(12436),et=n(24083),en=n(35336),es=n(31485),er=n(79600),ea=n(67096);async function eo(e){let{domain:t}=e,n=await fetch("https://one.one.one.one/dns-query?name=".concat(t,"&type=CNAME"),{method:"GET",headers:{accept:"application/dns-json"}}),s=await n.json();if(void 0===s.Answer)throw Error("Your CNAME record for ".concat(t," cannot be found - if you've just added the record, do check back in a bit."));return s.Answer.some(e=>5===e.type)}let ei=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,y.D)(e=>eo(e),{async onSuccess(t,n,s){await (null==e?void 0:e(t,n,s))},async onError(e,n,s){void 0===t?c.Am.error("Failed to check CNAME record: ".concat(e.message)):t(e,n,s)},...n})};var el=n(29449);async function ec(e){let{projectRef:t}=e,{data:n,error:s}=await (0,j.v_)("/v1/projects/{ref}/custom-hostname/activate",{params:{path:{ref:t}}});return s&&(0,j.S3)(s),n}let ed=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,h.NL)();return(0,y.D)(e=>ec(e),{async onSuccess(t,n,r){let{projectRef:a}=n;await s.invalidateQueries(el.A.list(a)),await (null==e?void 0:e(t,n,r))},async onError(e,n,s){void 0===t?c.Am.error("Failed to activate custom domain: ".concat(e.message)):t(e,n,s)},...n})};async function eu(e){let{projectRef:t}=e,{data:n,error:s}=await (0,j.IV)("/v1/projects/{ref}/custom-hostname",{params:{path:{ref:t}}});return s&&(0,j.S3)(s),n}let em=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,h.NL)();return(0,y.D)(e=>eu(e),{async onSuccess(t,n,r){let{projectRef:a}=n;s.setQueriesData(el.A.list(a),()=>({customDomain:null,status:"0_no_hostname_configured"})),await (null==e?void 0:e(t,n,r))},async onError(e,n,s){void 0===t?c.Am.error("Failed to delete custom domain: ".concat(e.message)):t(e,n,s)},...n})};var ef=e=>{var t;let{projectRef:n,customDomain:r}=e,[a,o]=(0,M.useState)(!1),{data:i}=(0,es.zR)({projectRef:n}),{mutate:l,isLoading:d}=ei(),{mutate:u,isLoading:m}=ed({onSuccess:()=>{c.Am.success("Successfully activated custom domain"),o(!1)}}),{mutate:f,isLoading:p}=em(),h=null==i?void 0:null===(t=i.app_config)||void 0===t?void 0:t.endpoint,y=async()=>{if(!n)return console.error("Project ref is required");l({domain:r.hostname},{onSuccess:()=>u({projectRef:n})})},j=async()=>{if(!n)return console.error("Project ref is required");f({projectRef:n})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col items-start",children:[(0,s.jsxs)(x.Z.Content,{"data-sentry-element":"unknown","data-sentry-source-file":"CustomDomainActivate.tsx",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("h4",{className:"text-foreground",children:["Setup complete! Press activate to enable the custom domain"," ",(0,s.jsx)("code",{className:"text-sm",children:r.hostname})," for this project."]}),(0,s.jsx)("span",{className:"text-sm text-foreground-light",children:"We recommend that you schedule a downtime window of 20 - 30 minutes for your application, as you will need to update any services that need to know about your custom domain (e.g client side code or OAuth providers)"})]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsxs)(C.bZ,{"data-sentry-element":"Alert_Shadcn_","data-sentry-source-file":"CustomDomainActivate.tsx",children:[(0,s.jsx)($.Z,{className:"text-foreground-light",strokeWidth:1.5,"data-sentry-element":"AlertCircle","data-sentry-source-file":"CustomDomainActivate.tsx"}),(0,s.jsx)(C.Cd,{"data-sentry-element":"AlertTitle_Shadcn_","data-sentry-source-file":"CustomDomainActivate.tsx",children:"Remember to retain your CNAME record for service continuity after activation"}),(0,s.jsx)(C.X,{"data-sentry-element":"AlertDescription_Shadcn_","data-sentry-source-file":"CustomDomainActivate.tsx",children:(0,s.jsxs)("p",{className:"col-span-12 text-sm lg:col-span-7 leading-6",children:["Your custom domain CNAME record for"," ",(0,s.jsx)("code",{className:"text-xs",children:r.hostname}),"should resolve to"," ",h?(0,s.jsx)("code",{className:"text-xs",children:h}):"your project's API URL",". If you're using Cloudflare as your DNS provider, disable the proxy option."]})})]})})]}),(0,s.jsx)("div",{className:"w-full border-t border-muted"}),(0,s.jsx)(x.Z.Content,{className:"w-full","data-sentry-element":"unknown","data-sentry-source-file":"CustomDomainActivate.tsx",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(ea.G,{href:"https://supabase.com/docs/guides/platform/custom-domains","data-sentry-element":"DocsButton","data-sentry-source-file":"CustomDomainActivate.tsx"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(D.z,{type:"default",className:"self-end",onClick:j,loading:p,"data-sentry-element":"Button","data-sentry-source-file":"CustomDomainActivate.tsx",children:"Cancel"}),(0,s.jsx)(D.z,{icon:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1,stroke:"currentColor",className:"w-4 h-4",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75z"})}),disabled:p,onClick:()=>o(!0),className:"self-end","data-sentry-element":"Button","data-sentry-source-file":"CustomDomainActivate.tsx",children:"Activate"})]})]})})]}),(0,s.jsx)(O.Z,{size:"small",loading:d||m,visible:a,title:(0,s.jsxs)(s.Fragment,{children:["Are you sure you want to activate the custom domain"," ",(0,s.jsx)("code",{className:"text-sm",children:r.hostname})," for the project?"]}),confirmLabel:"Activate",confirmLabelLoading:"Activating",onCancel:()=>o(!1),onConfirm:y,"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"CustomDomainActivate.tsx",children:(0,s.jsxs)("p",{className:"text-sm",children:["This will activate the custom domain ",(0,s.jsx)("code",{children:r.hostname}),". Your project's Supabase domain will also remain active."]})})]})},ex=n(74304),ep=e=>{let{projectRef:t,customDomain:n}=e,[r,a]=(0,M.useState)(!1),{mutate:o}=em({onSuccess:()=>{c.Am.success("Successfully deleted custom domain"),a(!1)}}),i=async()=>{if(!t)return console.error("Project ref is required");o({projectRef:t})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Z.Content,{"data-sentry-element":"unknown","data-sentry-source-file":"CustomDomainDelete.tsx",children:(0,s.jsxs)("div",{className:"w-full space-y-2",children:[(0,s.jsx)("p",{className:"text-xs text-foreground-light",children:"Active custom domain:"}),(0,s.jsx)("div",{className:"flex items-center space-x-2",children:(0,s.jsxs)("code",{className:"text-lg mx-0 flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"h-2 w-2 rounded-full bg-brand"}),(0,s.jsx)("span",{children:n.hostname})]})}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Your custom domain is currently active and is serving traffic"})]})}),(0,s.jsx)("div",{className:"w-full border-t border-muted"}),(0,s.jsx)(x.Z.Content,{className:"w-full","data-sentry-element":"unknown","data-sentry-source-file":"CustomDomainDelete.tsx",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(ea.G,{href:"https://supabase.com/docs/guides/platform/custom-domains","data-sentry-element":"DocsButton","data-sentry-source-file":"CustomDomainDelete.tsx"}),(0,s.jsx)(D.z,{type:"danger",icon:(0,s.jsx)(ex.Z,{}),onClick:()=>a(!0),"data-sentry-element":"Button","data-sentry-source-file":"CustomDomainDelete.tsx",children:"Delete Custom Domain"})]})}),(0,s.jsx)(Q.Z,{danger:!0,visible:r,title:(0,s.jsxs)("div",{children:["Are you sure you want to delete the custom domain"," ",(0,s.jsx)("code",{className:"text-sm",children:n.hostname})," for the project?"]}),description:"Your custom domain will be deactivated. You will need to re-verify your domain if you want to use it again.",buttonLabel:"Delete",buttonLoadingLabel:"Deleting",onSelectCancel:()=>a(!1),onSelectConfirm:i,"data-sentry-element":"ConfirmModal","data-sentry-source-file":"CustomDomainDelete.tsx"})]})},eh=n(96056),ey=n(5211);async function ej(e){let{projectRef:t}=e,{data:n,error:s}=await (0,j.v_)("/v1/projects/{ref}/custom-hostname/reverify",{params:{path:{ref:t}}});return s&&(0,j.S3)(s),n}let eg=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,h.NL)();return(0,y.D)(e=>ej(e),{async onSuccess(t,n,r){let{projectRef:a}=n;await s.invalidateQueries(el.A.list(a)),await (null==e?void 0:e(t,n,r))},async onError(e,n,s){void 0===t?c.Am.error("Failed to reverify custom domain: ".concat(e.message)):t(e,n,s)},...n})};var ev=e=>{let{type:t,name:n,value:r}=e;return(0,s.jsxs)("div",{className:"flex gap-4 items-center","data-sentry-component":"DNSRecord","data-sentry-source-file":"DNSRecord.tsx",children:[(0,s.jsx)("div",{className:"w-[50px]",children:(0,s.jsx)("p",{className:"font-mono text-base",children:t.toUpperCase()})}),(0,s.jsx)(_.Z,{readOnly:!0,copy:!0,disabled:!0,className:"input-mono flex-1",value:n,layout:"vertical","data-sentry-element":"Input","data-sentry-source-file":"DNSRecord.tsx"}),(0,s.jsx)(_.Z,{readOnly:!0,copy:!0,disabled:!0,className:"input-mono flex-1",value:r,layout:"vertical","data-sentry-element":"Input","data-sentry-source-file":"DNSRecord.tsx"})]})},eb=n(52675);let eN=e=>{let{display:t}=e;return""!==t?(0,s.jsxs)("div",{className:"flex gap-4",children:[(0,s.jsx)("div",{className:"w-[50px]",children:(0,s.jsx)("p",{className:"text-foreground-light text-sm",children:"Type"})}),(0,s.jsx)("div",{className:"text-sm grid gap-2 md:grid md:grid-cols-12 md:gap-x-4 input-mono flex-1",children:(0,s.jsx)("div",{className:"flex flex-row space-x-2 justify-between col-span-12",children:(0,s.jsx)("label",{className:"block text-foreground-light text-sm break-all",children:"Name"})})}),(0,s.jsx)("div",{className:"text-sm grid gap-2 md:grid md:grid-cols-12 md:gap-x-4 input-mono flex-1",children:(0,s.jsx)("div",{className:"flex flex-row space-x-2 justify-between col-span-12",children:(0,s.jsx)("label",{className:"block text-foreground-light text-sm break-all",children:"Content"})})})]}):(0,s.jsxs)("div",{className:"flex items-center gap-2","data-sentry-component":"DNSTableHeaders","data-sentry-source-file":"DNSTableHeaders.tsx",children:[(0,s.jsx)(eb.Z,{size:14,className:"animate-spin","data-sentry-element":"Loader2","data-sentry-source-file":"DNSTableHeaders.tsx"}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Validating custom domain and TLS configuration..."})]})};var ew=e=>{var t,n,r,a,o,i,c,d;let{customDomain:u}=e,{ref:m}=(0,ee.UO)(),[f,p]=(0,M.useState)(!1),{data:h}=(0,es.zR)({projectRef:m}),{mutate:y,isLoading:j}=eg({onSuccess:e=>{"2_initiated"===e.status&&p(!0)}}),{mutate:g,isLoading:v}=em(),b=null===(t=u.ssl.validation_errors)||void 0===t?void 0:t.reduce((e,t)=>e||t.message.includes("caa_error"),!1),N=(null!==(a=u.ssl.txt_name)&&void 0!==a?a:"")==="",w=()=>{if(!m)return console.error("Project ref is required");y({projectRef:m})};!function(e,t){let n=(0,M.useRef)(e);(0,M.useEffect)(()=>{n.current=e},[e]),(0,M.useEffect)(()=>{if(!1===t)return;let e=setInterval(()=>{n.current()},t);return()=>{clearInterval(e)}},[t])}(w,void 0!==u.ssl.status&&void 0===u.ssl.txt_name&&5e3);let k=async()=>{if(!m)return console.error("Project ref is required");g({projectRef:m})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(x.Z.Content,{className:"space-y-6","data-sentry-element":"unknown","data-sentry-source-file":"CustomDomainVerify.tsx",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{className:"text-foreground mb-2",children:["Configure TXT verification for your custom domain"," ",(0,s.jsx)("code",{className:"text-sm",children:u.hostname})]}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Set the following TXT record(s) in your DNS provider, then click verify to confirm your control over the domain."}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Records which have been successfully verified will be removed from this list below."}),!N&&(0,s.jsx)("div",{className:"mt-4 mb-2",children:(0,s.jsxs)(C.bZ,{variant:"default",children:[f?(0,s.jsx)($.Z,{className:"text-foreground-light",strokeWidth:1.5}):(0,s.jsx)(eh.Z,{className:"text-foreground-light",strokeWidth:1.5}),(0,s.jsx)(C.Cd,{children:f?"Unable to verify records from DNS provider yet.":"Please note that it may take up to 24 hours for the DNS records to propagate."}),(0,s.jsx)(C.X,{children:(0,s.jsxs)("div",{children:[f&&(0,s.jsx)("p",{children:"Please check again soon. Note that it may take up to 24 hours for changes in DNS records to propagate."}),(0,s.jsxs)("p",{children:["You may also visit"," ",(0,s.jsx)(l(),{target:"_blank",rel:"noreferrer",href:"https://whatsmydns.net/#TXT/".concat(u.hostname),className:"text-brand",children:"here"})," ","to check if your DNS has been propagated successfully before clicking verify."]}),f&&(0,s.jsx)("p",{className:"mt-1 text-foreground-lighter",children:"Some registrars will require you to remove the domain name when creating DNS records. As an example, to create a record for `foo.app.example.com`, you would need to create an entry for `foo.app`."})]})})]})})]}),b&&(0,s.jsxs)(C.bZ,{children:[(0,s.jsx)(S.aN,{}),(0,s.jsx)(C.Cd,{children:"Certificate Authority Authentication (CAA) error"}),(0,s.jsxs)(C.X,{children:['Please add a CAA record allowing "digicert.com" to issue certificates for'," ",(0,s.jsx)("code",{className:"text-xs",children:u.hostname}),". For example:"," ",(0,s.jsx)("code",{className:"text-xs",children:'0 issue "digicert.com"'})]})]}),"validation_timed_out"===u.ssl.status?(0,s.jsxs)(C.bZ,{children:[(0,s.jsx)(S.aN,{}),(0,s.jsx)(C.Cd,{children:"Validation timed out"}),(0,s.jsx)(C.X,{children:'Please click "Verify" again to retry the validation of the records'})]}):(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(eN,{display:null!==(o=u.ssl.txt_name)&&void 0!==o?o:""}),(null===(n=u.verification_errors)||void 0===n?void 0:n.includes("custom hostname does not CNAME to this zone."))&&(0,s.jsx)(ev,{type:"CNAME",name:u.hostname,value:null!==(i=null==h?void 0:null===(r=h.app_config)||void 0===r?void 0:r.endpoint)&&void 0!==i?i:"Loading..."}),!N&&"pending_validation"===u.ssl.status&&(0,s.jsx)(ev,{type:"TXT",name:null!==(c=u.ssl.txt_name)&&void 0!==c?c:"Loading...",value:null!==(d=u.ssl.txt_value)&&void 0!==d?d:"Loading..."}),"pending_deployment"===u.ssl.status&&(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2 py-8",children:[(0,s.jsx)($.Z,{size:16,strokeWidth:1.5}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"SSL certificate is being deployed. Please wait a few minutes and try again."})]})]})]}),(0,s.jsx)("div",{className:"border-t border-muted"}),(0,s.jsx)(x.Z.Content,{"data-sentry-element":"unknown","data-sentry-source-file":"CustomDomainVerify.tsx",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(ea.G,{href:"https://supabase.com/docs/guides/platform/custom-domains","data-sentry-element":"DocsButton","data-sentry-source-file":"CustomDomainVerify.tsx"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(D.z,{type:"default",onClick:k,loading:v,disabled:j||N,className:"self-end","data-sentry-element":"Button","data-sentry-source-file":"CustomDomainVerify.tsx",children:"Cancel"}),(0,s.jsx)(D.z,{icon:(0,s.jsx)(ey.Z,{}),onClick:w,loading:!N&&j,disabled:v||j||N,className:"self-end","data-sentry-element":"Button","data-sentry-source-file":"CustomDomainVerify.tsx",children:"Verify"})]})]})})]})},ek=n(18648);async function eC(e){let{projectRef:t,customDomain:n}=e,{data:s,error:r}=await (0,j.v_)("/v1/projects/{ref}/custom-hostname/initialize",{params:{path:{ref:t}},body:{custom_hostname:n}});return r&&(0,j.S3)(r),s}let eS=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,h.NL)();return(0,y.D)(e=>eC(e),{async onSuccess(t,n,r){let{projectRef:a}=n;await s.invalidateQueries(el.A.list(a)),await (null==e?void 0:e(t,n,r))},async onError(e,n,s){void 0===t?c.Am.error("Failed to create custom domain: ".concat(e.message)):t(e,n,s)},...n})},eP=ek.object({domain:ek.string().required("A value for your custom domain is required")});var e_=()=>{var e;let{ref:t}=(0,ee.UO)(),{project:n}=(0,d.d2)(),{mutate:r,isLoading:o}=ei(),{mutate:i,isLoading:l}=eS(),{data:c}=(0,es.zR)({projectRef:t}),x="custom-domains-form",p=null==c?void 0:null===(e=c.app_config)||void 0===e?void 0:e.endpoint,h=(0,N.Xo)(a.KA.UPDATE,"projects",{resource:{project_id:null==n?void 0:n.id}}),y=async e=>{if(!t)return console.error("Project ref is required");r({domain:e.domain},{onSuccess:()=>{i({projectRef:t,customDomain:e.domain})}})};return(0,s.jsx)(P.Z,{id:x,initialValues:{domain:""},validationSchema:eP,onSubmit:y,"data-sentry-element":"Form","data-sentry-component":"CustomDomainsConfigureHostname","data-sentry-source-file":"CustomDomainsConfigureHostname.tsx",children:e=>{let{handleReset:t,values:n,initialValues:r}=e,a=JSON.stringify(n)!==JSON.stringify(r);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(m.by,{disabled:!h,footer:(0,s.jsx)("div",{className:"flex py-4 px-8",children:(0,s.jsx)(u.i,{form:x,isSubmitting:o||l,submitText:"Add",hasChanges:a,handleReset:t,disabled:!1,helper:h?(0,s.jsx)(ea.G,{href:"https://supabase.com/docs/guides/platform/custom-domains"}):"You need additional permissions to update your project's custom domain settings"})}),children:[(0,s.jsx)(f.hj,{header:(0,s.jsx)(f.S0,{children:"Add a custom domain"}),children:(0,s.jsx)(f.B4,{loading:!1,children:(0,s.jsx)(_.Z,{id:"domain",disabled:!h||o||l,className:"w-full",type:"text",name:"domain",placeholder:"subdomain.example.com"})})}),(0,s.jsx)(f.hj,{header:(0,s.jsx)(f.S0,{children:"Configure a CNAME record"}),children:(0,s.jsxs)("p",{className:"col-span-12 text-sm lg:col-span-7 leading-6",children:["Set up a CNAME record for"," ",n.domain?(0,s.jsx)("code",{className:"text-xs",children:n.domain}):"your custom domain"," ","resolving to"," ",p?(0,s.jsx)("code",{className:"text-xs",children:p}):"your project's API URL"," ","with as low a TTL as possible. If you're using Cloudflare as your DNS provider, disable the proxy option."]})})]})})}})},eD=()=>(0,s.jsxs)("div",{className:"grid grid-cols-12 gap-6 px-8 py-8","data-sentry-component":"CustomDomainsShimmerLoader","data-sentry-source-file":"CustomDomainsShimmerLoader.tsx",children:[(0,s.jsx)("div",{className:"col-span-12 lg:col-span-5",children:(0,s.jsx)("div",{className:"h-6 w-1/3 bg-foreground-lighter rounded shimmering-loader"})}),(0,s.jsx)("div",{className:"col-span-12 lg:col-span-7",children:(0,s.jsx)("div",{className:"h-[38px] w-full bg-foreground-lighter rounded shimmering-loader"})})]}),eA=()=>{var e;let{ref:t}=(0,ee.UO)(),n=(0,w.l)(),r=(0,G.P)("customDomainsDisabledDueToQuota"),{data:a}=(0,F.Gl)({orgSlug:null==n?void 0:n.slug}),o=null==a?void 0:null===(e=a.plan)||void 0===e?void 0:e.id,{isLoading:i}=(0,es.zR)({projectRef:t}),{isLoading:c,isError:d,isSuccess:u,data:m}=(0,er.z)({projectRef:t},{refetchInterval(e){var t;return null!=e&&null!==(t=e.customDomain)&&void 0!==t&&!!t.ssl.status&&5e3}});return(0,s.jsxs)("section",{id:"custom-domains","data-sentry-component":"CustomDomainConfig","data-sentry-source-file":"CustomDomainConfig.tsx",children:[(0,s.jsx)(et.p,{title:"Custom Domains",description:"Present a branded experience to your users","data-sentry-element":"FormHeader","data-sentry-source-file":"CustomDomainConfig.tsx"}),i||c?(0,s.jsx)(x.Z,{children:(0,s.jsx)(x.Z.Content,{className:"space-y-6",children:(0,s.jsx)(eD,{})})}):d?(0,s.jsx)(x.Z,{children:(0,s.jsx)(x.Z.Content,{className:"space-y-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-2 py-8",children:[(0,s.jsx)($.Z,{size:16,strokeWidth:1.5}),(0,s.jsxs)("p",{className:"text-sm text-foreground-light",children:["Failed to retrieve custom domain configuration. Please try again later or"," ",(0,s.jsx)(l(),{href:"/support/new?ref=".concat(t,"&category=sales"),className:"underline",children:"contact support"}),"."]})]})})}):(null==m?void 0:m.status)==="0_no_hostname_configured"?(0,s.jsx)(e_,{}):(null==m?void 0:m.status)==="0_not_allowed"?(0,s.jsx)(en.Z,{icon:(0,s.jsx)($.Z,{size:18,strokeWidth:1.5}),primaryText:r?"New custom domains are temporarily disabled":"Custom domains are a Pro Plan add-on",secondaryText:r?"We are working with our upstream DNS provider before we are able to sign up new custom domains. Please check back in a few hours.":"free"===o?"To configure a custom domain for your project, please upgrade to the Pro Plan with the custom domains add-on selected":"To configure a custom domain for your project, please enable the add-on",addon:"customDomain",source:"customDomain",disabled:r}):(0,s.jsx)(x.Z,{children:u&&(0,s.jsxs)("div",{className:"flex flex-col",children:[("1_not_started"===m.status||"2_initiated"===m.status||"3_challenge_verified"===m.status)&&(0,s.jsx)(ew,{customDomain:m.customDomain}),"4_origin_setup_completed"===m.status&&(0,s.jsx)(ef,{projectRef:t,customDomain:m.customDomain}),"5_services_reconfigured"===m.status&&(0,s.jsx)(ep,{projectRef:t,customDomain:m.customDomain})]})})]})},eZ=n(29589),eT=e=>{let{type:t="danger"}=e,{project:n}=(0,d.d2)(),[r,o]=(0,M.useState)(!1),i=(0,N.Xo)(a.KA.UPDATE,"projects",{resource:{project_id:null==n?void 0:n.id}});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L.u,{type:t,disabled:!i,onClick:()=>o(!0),tooltip:{content:{side:"bottom",text:i?void 0:"You need additional permissions to delete this project"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"DeleteProjectButton.tsx",children:"Delete project"}),(0,s.jsx)(eZ.Z,{visible:r,onClose:()=>o(!1),"data-sentry-element":"DeleteProjectModal","data-sentry-source-file":"DeleteProjectButton.tsx"})]})},eM=n(41321),eL=()=>{let e=(0,w.l)(),{project:t}=(0,d.d2)();return void 0===t?null:(0,s.jsxs)("section",{id:"delete-project","data-sentry-component":"DeleteProjectPanel","data-sentry-source-file":"DeleteProjectPanel.tsx",children:[(0,s.jsx)(et.p,{title:"Delete Project",description:"","data-sentry-element":"FormHeader","data-sentry-source-file":"DeleteProjectPanel.tsx"}),(0,s.jsx)(x.Z,{"data-sentry-element":"Panel","data-sentry-source-file":"DeleteProjectPanel.tsx",children:(0,s.jsx)(x.Z.Content,{"data-sentry-element":"unknown","data-sentry-source-file":"DeleteProjectPanel.tsx",children:(null==e?void 0:e.managed_by)!=="vercel-marketplace"?(0,s.jsxs)(C.bZ,{variant:"destructive",children:[(0,s.jsx)(S.ku,{}),(0,s.jsx)(C.Cd,{children:"Deleting this project will also remove your database."}),(0,s.jsx)(C.X,{children:"Make sure you have made a backup if you want to keep your data."}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)(eT,{})})]}):(0,s.jsx)(eM.Z,{partner:"vercel-marketplace",resource:"Projects",cta:{installationId:null==e?void 0:e.partner_id,message:"Delete project in Vercel Marketplace"}})})})]})},eR=n(5295),ez=n(34330),eE=n(87132),eF=n(29285),eB=n(89572);async function eO(e){let{projectRef:t,targetOrganizationSlug:n}=e;if(!t)throw Error("projectRef is required");if(!n)throw Error("targetOrganizationSlug is required");let{data:s,error:r}=await (0,j.v_)("/platform/projects/{ref}/transfer",{params:{path:{ref:t}},body:{target_organization_slug:n}});return r&&(0,j.S3)(r),s}let eI=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,h.NL)();return(0,y.D)(e=>eO(e),{async onSuccess(t,n,r){let{projectRef:a,targetOrganizationSlug:o}=n;await Promise.all([s.invalidateQueries(g.i.projectTransferPreview(a,o)),s.invalidateQueries(g.i.detail(a)),s.invalidateQueries(g.i.list())]),await (null==e?void 0:e(t,n,r))},async onError(e,n,s){void 0===t?c.Am.error("Failed to transfer project: ".concat(e.message)):t(e,n,s)},...n})};var eV=n(28894);async function eq(e,t){let{projectRef:n,targetOrganizationSlug:s}=e;if(!n)throw Error("projectRef is required");if(!s)throw Error("targetOrganizationSlug is required");let{data:r,error:a}=await (0,j.v_)("/platform/projects/{ref}/transfer/preview",{params:{path:{ref:n}},body:{target_organization_slug:s},signal:t});return a&&(0,j.S3)(a),r}let eU=function(e){let{projectRef:t,targetOrganizationSlug:n}=e,{enabled:s=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,eV.a)(g.i.projectTransferPreview(t,n),e=>{let{signal:s}=e;return eq({projectRef:t,targetOrganizationSlug:n},s)},{enabled:s&&void 0!==t&&void 0!==n,...r,retry:(e,t)=>("object"!=typeof t||null===t||!("code"in t)||400!==t.code)&&e<3})};var eW=n(42155),eG=n(85818),eY=n(67923),eH=n(33526),eX=()=>{let e=(0,k.Vm)(),t=null==e?void 0:e.ref,n=null==e?void 0:e.organization_id,{data:r}=(0,eB.tl)(),o=(0,G.P)("disableProjectTransfer"),i=(r||[]).filter(e=>e.id!==n),[l,d]=(0,M.useState)(!1),[u,m]=(0,M.useState)(),{mutate:f,error:x,isLoading:p}=eI({onSuccess:()=>{c.Am.success("Successfully transferred project ".concat(null==e?void 0:e.name,".")),d(!1)}}),{data:h,error:y,isLoading:j,remove:g}=eU({projectRef:t,targetOrganizationSlug:u},{enabled:!p&&l});(0,M.useEffect)(()=>{l?m(void 0):g()},[l]);let v=(0,N.Xo)(a.KA.UPDATE,"organizations"),b=()=>{d(!l)};async function w(){void 0!==e&&void 0!==u&&f({projectRef:t,targetOrganizationSlug:u})}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(L.u,{type:"default",onClick:b,disabled:!v||o,tooltip:{content:{side:"bottom",text:v?o?"Project transfers are temporarily disabled, please try again later.":void 0:"You need additional permissions to transfer this project"}},"data-sentry-element":"ButtonTooltip","data-sentry-source-file":"TransferProjectButton.tsx",children:"Transfer project"}),(0,s.jsxs)(eW.Z,{onCancel:()=>b(),visible:l,loading:p,size:"xlarge",header:"Transfer project ".concat(null==e?void 0:e.name),customFooter:(0,s.jsxs)("div",{className:"flex items-center space-x-2 justify-end",children:[(0,s.jsx)(D.z,{type:"default",onClick:()=>d(!1),children:"Cancel"}),(0,s.jsx)(D.z,{onClick:()=>w(),disabled:!h||!h.valid||p||!u,children:"Transfer Project"})]}),"data-sentry-element":"Modal","data-sentry-source-file":"TransferProjectButton.tsx",children:[(0,s.jsxs)(eW.Z.Content,{className:"text-foreground-light","data-sentry-element":"unknown","data-sentry-source-file":"TransferProjectButton.tsx",children:[(0,s.jsx)("p",{className:"text-sm",children:"To transfer projects, the owner must be a member of both the source and target organizations. Consider the following before transferring your project:"}),(0,s.jsxs)("ul",{className:"mt-4 space-y-5 text-sm",children:[(0,s.jsxs)("li",{className:"flex gap-4",children:[(0,s.jsx)("span",{className:"shrink-0 mt-1",children:(0,s.jsx)(eR.Z,{"data-sentry-element":"Loader","data-sentry-source-file":"TransferProjectButton.tsx"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold",children:"Possible downtime"}),(0,s.jsx)("p",{children:"There might be a short downtime when transferring projects from a paid to a free organization."})]})]}),(0,s.jsxs)("li",{className:"flex gap-4",children:[(0,s.jsx)("span",{className:"shrink-0 mt-1",children:(0,s.jsx)(ez.Z,{"data-sentry-element":"Shield","data-sentry-source-file":"TransferProjectButton.tsx"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold",children:"Permissions"}),(0,s.jsx)("p",{children:"Depending on your role in the target organization, your level of permissions may change after transfer."})]})]}),(0,s.jsxs)("li",{className:"flex gap-4",children:[(0,s.jsx)("span",{className:"shrink-0 mt-1",children:(0,s.jsx)(eE.Z,{size:24,className:"flex-shrink-0","data-sentry-element":"Wrench","data-sentry-source-file":"TransferProjectButton.tsx"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-bold",children:"Features"}),(0,s.jsx)("p",{children:"Moving your project to an organization with a smaller subscription plan may result in the loss of certain features (i.e. image transformations)."})]})]})]}),(0,s.jsx)(ea.G,{abbrev:!1,className:"mt-6",href:"https://supabase.com/docs/guides/platform/project-transfer","data-sentry-element":"DocsButton","data-sentry-source-file":"TransferProjectButton.tsx"})]}),(0,s.jsx)(eW.Z.Separator,{"data-sentry-element":"unknown","data-sentry-source-file":"TransferProjectButton.tsx"}),(0,s.jsx)(eW.Z.Content,{"data-sentry-element":"unknown","data-sentry-source-file":"TransferProjectButton.tsx",children:i&&(0,s.jsx)("div",{className:"space-y-2",children:0===i.length?(0,s.jsxs)("div",{className:"flex items-center gap-3 bg-surface-200 p-3 text-sm rounded-md border",children:[(0,s.jsx)(S.sz,{})," You do not have any organizations you can transfer your project to."]}):(0,s.jsxs)(eG.Z,{label:"Select Target Organization",layout:"vertical",value:u,onChange:e=>m(e),placeholder:"Select Organization",children:[(0,s.jsx)(eG.Z.Option,{disabled:!0,label:"Select Organization",value:"",children:"Select Organization"},"no-results"),i.map(e=>(0,s.jsx)(eG.Z.Option,{label:e.name,value:e.slug,addOnBefore:()=>(0,s.jsx)(eF.Z,{}),children:e.name},e.id))]})})}),void 0!==u&&(0,s.jsx)(eY.Z,{active:void 0!==u&&j,children:(0,s.jsx)(eW.Z.Content,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[h&&h.warnings.length>0&&(0,s.jsx)(eH.J,{type:"warning",title:"Warnings for project transfer",className:"mt-3",children:(0,s.jsx)("div",{className:"space-y-1",children:h.warnings.map(e=>(0,s.jsx)("p",{children:e.message},e.key))})}),h&&h.errors.length>0&&(0,s.jsxs)(eH.J,{type:"danger",title:"Project cannot be transferred",children:[(0,s.jsx)("div",{className:"space-y-1",children:h.errors.map(e=>(0,s.jsx)("p",{children:e.message},e.key))}),h.members_exceeding_free_project_limit.length>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"These members have reached their maximum limits for the number of active Free plan projects within organizations where they are an administrator or owner:"}),(0,s.jsx)("ul",{className:"pl-5 text-sm list-disc text-foreground-light",children:(h.members_exceeding_free_project_limit||[]).map((e,t)=>(0,s.jsxs)("li",{children:[e.name," (Limit: ",e.limit," free projects)"]},"member-".concat(t)))}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"These members will need to either delete, pause, or upgrade one or more of their projects before you can transfer this project."})]})]}),y&&!x&&(0,s.jsx)(eH.J,{type:"danger",title:"Project cannot be transferred",description:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("p",{children:y.message})})}),x&&(0,s.jsx)(eH.J,{type:"danger",title:"Project cannot be transferred",description:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("p",{children:x.message})})})]})})})]})]})};let eQ=(0,A.Z)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);var eK=()=>void 0===(0,k.Vm)()?(0,s.jsx)(s.Fragment,{}):(0,s.jsxs)("section",{id:"transfer-project","data-sentry-component":"TransferProjectPanel","data-sentry-source-file":"TransferProjectPanel.tsx",children:[(0,s.jsx)(et.p,{title:"Transfer Project",description:"Transfer your project to a different organization.","data-sentry-element":"FormHeader","data-sentry-source-file":"TransferProjectPanel.tsx"}),(0,s.jsx)(x.Z,{"data-sentry-element":"Panel","data-sentry-source-file":"TransferProjectPanel.tsx",children:(0,s.jsx)(x.Z.Content,{"data-sentry-element":"unknown","data-sentry-source-file":"TransferProjectPanel.tsx",children:(0,s.jsxs)("div",{className:"flex justify-between items-center gap-8",children:[(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)(eQ,{className:"mt-1","data-sentry-element":"Truck","data-sentry-source-file":"TransferProjectPanel.tsx"}),(0,s.jsxs)("div",{className:"space-y-1 xl:max-w-lg",children:[(0,s.jsx)("p",{className:"text-sm",children:"Transfer project to another organization"}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"To transfer projects, the owner must be a member of both the source and target organizations."})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(eX,{"data-sentry-element":"TransferProjectButton","data-sentry-source-file":"TransferProjectPanel.tsx"})})]})})})]}),eJ=n(5529),e$=n(47365),e0=n(59141);async function e1(e){let{projectRef:t,isSensitive:n}=e;if(!t)throw Error("projectRef is required");let{data:s,error:r}=await (0,j.r$)("/platform/projects/{ref}/settings/sensitivity",{params:{path:{ref:t}},body:{is_sensitive:n}});return r&&(0,j.S3)(r),s}let e2=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=(0,h.NL)();return(0,y.D)(e=>e1(e),{async onSuccess(t,n,r){let{projectRef:a}=n;await s.invalidateQueries(e0.U.settingsV2(a)),await (null==e?void 0:e(t,n,r))},async onError(e,n,s){void 0===t?c.Am.error("Failed to update project compliance configuration: ".concat(e.message)):t(e,n,s)},...n})};var e4=n(62210),e5=()=>{let{ref:e}=(0,ee.UO)(),{project:t}=(0,d.d2)(),[n,r]=(0,M.useState)(!1),o=(0,N.Xo)(a.KA.UPDATE,"projects",{resource:{project_id:null==t?void 0:t.id}}),{data:i,error:l,isError:u,isLoading:x,isSuccess:p}=(0,es.zR)({projectRef:e}),h=(null==i?void 0:i.is_sensitive)||!1,{mutate:y,isLoading:j}=e2({onSuccess:()=>{c.Am.success("Successfully updated project compliance configuration")},onError:e=>{r(h),c.Am.error("Failed to update project compliance configuration: ".concat(e.message))}}),g=async()=>{if(!e)return console.error("Project ref is required");r(!n),y({projectRef:e,isSensitive:!n})};return(0,M.useEffect)(()=>{x||r(h)},[x]),(0,s.jsxs)("div",{id:"compliance-configuration","data-sentry-component":"ComplianceConfig","data-sentry-source-file":"ProjectComplianceMode.tsx",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)(et.p,{className:"mb-0",title:"High Compliance Configuration",description:"For projects storing and processing sensitive data (HIPAA)","data-sentry-element":"FormHeader","data-sentry-source-file":"ProjectComplianceMode.tsx"}),(0,s.jsx)(ea.G,{href:"https://supabase.com/docs/guides/platform/hipaa-projects","data-sentry-element":"DocsButton","data-sentry-source-file":"ProjectComplianceMode.tsx"})]}),(0,s.jsx)(m.by,{"data-sentry-element":"FormPanel","data-sentry-source-file":"ProjectComplianceMode.tsx",children:(0,s.jsx)(f.hj,{header:(0,s.jsx)(f.S0,{className:"lg:col-span-9",description:(0,s.jsxs)("p",{className:"text-sm text-foreground-light",children:["Enable security warnings in the"," ",(0,s.jsx)(e$.U,{href:"/project/".concat(e,"/advisors/security"),children:"Security Advisor"})," ","to enforce requirements for managing sensitive data"]}),children:"Apply additional compliance controls to project"}),"data-sentry-element":"FormSection","data-sentry-source-file":"ProjectComplianceMode.tsx",children:(0,s.jsx)(f.B4,{loading:!1,className:"lg:!col-span-3","data-sentry-element":"FormSectionContent","data-sentry-source-file":"ProjectComplianceMode.tsx",children:(0,s.jsxs)("div",{className:"flex items-center justify-end mt-2.5 space-x-2",children:[(x||j)&&(0,s.jsx)(eb.Z,{className:"animate-spin",strokeWidth:1.5,size:16}),u&&(0,s.jsx)(eJ.Z,{error:l,subject:"Failed to retrieve project settings"}),p&&(0,s.jsxs)(Y.u,{children:[(0,s.jsx)(Y.aJ,{asChild:!0,children:(0,s.jsx)("div",{children:(0,s.jsx)(e4.r,{size:"large",checked:n,disabled:x||j||!o,onCheckedChange:g})})}),!o&&(0,s.jsx)(Y._v,{side:"bottom",className:"w-64 text-center",children:"You need additional permissions to update the compliance configuration for your project"})]})]})})})})]})},e3=n(31584),e6=n(19697),e8=n(78066),e9=n(71147);let e7=()=>{let{project:e}=(0,d.d2)(),t=(0,w.l)(),n=!!(null==e?void 0:e.parent_project_ref),{projectsTransfer:a}=(0,e9.N)(["projects:transfer"]),{data:o}=(0,F.Gl)({orgSlug:null==t?void 0:t.slug}),i=(0,r.$w)(o);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e8._S,{"data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"general.tsx",children:(0,s.jsx)(e8.tU,{"data-sentry-element":"ScaffoldHeader","data-sentry-source-file":"general.tsx",children:(0,s.jsx)(e8.q7,{"data-sentry-element":"ScaffoldTitle","data-sentry-source-file":"general.tsx",children:"Project Settings"})})}),(0,s.jsxs)(e8._S,{className:"flex flex-col gap-10",bottomPadding:!0,"data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"general.tsx",children:[(0,s.jsx)(J,{"data-sentry-element":"General","data-sentry-source-file":"general.tsx"}),n?null:(0,s.jsxs)(s.Fragment,{children:[i&&(0,s.jsx)(e5,{}),(0,s.jsx)(eA,{}),a&&(0,s.jsx)(eK,{}),(0,s.jsx)(eL,{})]})]})]})};e7.getLayout=e=>(0,s.jsx)(e3.Z,{children:(0,s.jsx)(e6.Z,{title:"General",children:e})});var te=e7},3503:function(e,t,n){"use strict";n.d(t,{B_:function(){return j},_f:function(){return N},aG:function(){return y},av:function(){return b}});var s=n(97458),r=n(50497),a=n(71770),o=n(52983),i=n(9060),l=n(12436),c=n(22114),d=n(65092),u=n(47482),m=n(90839),f=n(36210),x=n(36406),p=n(53496),h=n(38788);function y(e){let{className:t}=e,n=(0,x.Wo)(),a=(0,x.yg)();if(n)return(0,s.jsxs)("button",{className:(0,d.cn)("p-2 bg-overlay flex items-center gap-2 text-xs text-foreground-muted",t),onClick:a,"data-sentry-component":"Breadcrumb","data-sentry-source-file":"CommandMenu.tsx",children:[(0,s.jsx)(r.Z,{width:12,height:12,"data-sentry-element":"ArrowLeft","data-sentry-source-file":"CommandMenu.tsx"}),n.name]})}let j=(0,o.forwardRef)((e,t)=>{let{children:n,className:r,...a}=e;return(0,s.jsx)(u.mY,{ref:t,className:(0,d.cn)("h-full w-full flex flex-col overflow-hidden","[&_[cmdk-group]]:px-2 [&_[cmdk-group]]:!bg-transparent [&_[cmdk-group-heading]]:!bg-transparent [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-border-stronger [&_[cmdk-input]]:h-12","[&_[cmdk-item]_svg]:h-5","[&_[cmdk-item]_svg]:w-5","[&_[cmdk-item]_svg]:stroke-1","[&_[cmdk-input-wrapper]_svg]:h-5","[&_[cmdk-input-wrapper]_svg]:w-5","[&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0",r),...a,children:n})});function g(e){let{resetErrorBoundary:t}=e;return(0,s.jsx)("div",{className:(0,d.cn)("min-h-64","flex items-center justify-center"),"data-sentry-component":"CommandError","data-sentry-source-file":"CommandMenu.tsx",children:(0,s.jsxs)("div",{className:"p-10 flex flex-col items-center gap-6 mt-4",children:[(0,s.jsx)(a.Z,{strokeWidth:1.5,size:40,"data-sentry-element":"AlertTriangle","data-sentry-source-file":"CommandMenu.tsx"}),(0,s.jsx)("p",{className:"text-lg text-center",children:"Sorry, looks like we're having some issues with the command menu!"}),(0,s.jsx)("p",{className:"text-sm text-center",children:"Please try again in a bit."}),(0,s.jsx)(m.z,{size:"tiny",type:"secondary",onClick:t,"data-sentry-element":"Button","data-sentry-source-file":"CommandMenu.tsx",children:"Try again?"})]})})}function v(e){let{children:t}=e,n=(0,x.EB)();return n?(0,s.jsx)(n,{"data-sentry-element":"PageComponent","data-sentry-component":"PageSwitch","data-sentry-source-file":"CommandMenu.tsx"}):(0,s.jsx)(j,{"data-sentry-element":"CommandWrapper","data-sentry-component":"PageSwitch","data-sentry-source-file":"CommandMenu.tsx",children:t})}function b(e){let{children:t}=e,n=(0,h.Cc)(),s=(0,h.FX)(),r=o.Children.only(t);return r&&(0,o.isValidElement)(r)?(0,o.cloneElement)(r,{onClick:()=>{var e,t;s(!n),null===(e=(t=r.props).onOpen)||void 0===e||e.call(t,!n)},"aria-haspopup":"dialog","aria-expanded":n,"aria-controls":"command-menu-dialog-content",className:(0,d.cn)("h-10 px-4 py-2","inline-flex items-center justify-center","whitespace-nowrap","rounded-md border border-input bg-background","text-sm font-medium","hover:bg-accent hover:text-accent-foreground","ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","transition-colors",r.props.className)}):null}function N(e){let{children:t,trigger:n}=e,r=(0,h.Cc)(),a=(0,h.FX)(),u=(0,l.Gc)("sm"),m=(0,h.Qd)(),y=(0,x.Wo)(),j=(0,x.yg)(),b=(0,p.a)(),N=(0,p.A)(),{ref:w}=function(e){let{toggleOpen:t}=e,{ref:n,handleTouchStart:s,handleTouchMove:r,handleTouchEnd:a}=(0,c.Z)({onClose:t}),i=(0,h.Gk)(),l=(0,o.useMemo)(()=>({handleTouchStart:s,handleTouchMove:r,handleTouchEnd:a}),[s,r,a]);return(0,o.useEffect)(()=>{i(l)},[l]),{ref:n}}({toggleOpen:()=>a(!r)});return(0,s.jsxs)(f.Vq,{open:r,onOpenChange:a,"data-sentry-element":"Dialog","data-sentry-component":"CommandMenu","data-sentry-source-file":"CommandMenu.tsx",children:[n,(0,s.jsx)(f.cZ,{id:"command-menu-dialog-content",hideClose:!0,forceMount:!0,ref:w,onOpenAutoFocus:e=>u&&e.preventDefault(),onInteractOutside:()=>a(!1),onEscapeKeyDown:e=>(e.preventDefault(),b?N(""):y?j():a(!1)),size:m,className:(0,d.cn)("relative flex flex-col my-0 mx-auto rounded-t-lg overflow-hidden","h-[85dvh] mt-[15vh] md:max-h-[500px] md:mt-0 left-0 bottom-0 md:bottom-auto","!animate-in !slide-in-from-bottom-[85%] !duration-300","data-[state=closed]:!animate-out data-[state=closed]:!slide-out-to-bottom","!slide-in-from-left-[0%] :!slide-in-from-top-[0%]","!slide-out-to-left-[0%] !slide-out-to-top-[0%]","md:data-[state=open]:!slide-in-from-bottom-[0%] md:data-[state=closed]:!slide-out-to-bottom-[0%]","md:data-[state=open]:!zoom-in-95 md:data-[state=closed]:!zoom-out-95"),dialogOverlayProps:{className:(0,d.cn)("overflow-hidden flex data-closed:delay-100")},"data-sentry-element":"DialogContent","data-sentry-source-file":"CommandMenu.tsx",children:(0,s.jsx)(i.SV,{FallbackComponent:g,"data-sentry-element":"ErrorBoundary","data-sentry-source-file":"CommandMenu.tsx",children:(0,s.jsx)(v,{"data-sentry-element":"PageSwitch","data-sentry-source-file":"CommandMenu.tsx",children:t})})})]})}j.displayName=u.mY.displayName},32472:function(e,t,n){"use strict";var s=n(97458),r=n(52983),a=n(42155),o=n(19540),i=n(90839);t.Z=e=>{let{visible:t=!1,danger:n=!1,title:l="",description:c="",size:d="small",buttonLabel:u="",buttonLoadingLabel:m="",onSelectCancel:f=()=>{},onSelectConfirm:x=()=>{}}=e;(0,r.useEffect)(()=>{t&&h(!1)},[t]);let[p,h]=(0,r.useState)(!1),y=()=>{h(!0),x()};return(0,s.jsx)(a.Z,{header:l,visible:t,title:l,description:c,size:d,hideFooter:!0,onCancel:f,"data-sentry-element":"Modal","data-sentry-component":"ConfirmModal","data-sentry-source-file":"ConfirmDialog.tsx",children:(0,s.jsx)(o.Z,{initialValues:{},validateOnBlur:!0,onSubmit:()=>y(),validate:()=>[],"data-sentry-element":"Form","data-sentry-source-file":"ConfirmDialog.tsx",children:()=>(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(a.Z.Content,{children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(i.z,{block:!0,htmlType:"button",type:"default",onClick:f,disabled:p,children:"Cancel"}),(0,s.jsx)(i.z,{htmlType:"submit",block:!0,type:n?"danger":"primary",disabled:p,loading:p,children:m&&p?m:u||"Confirm"})]})})})})})}},19540:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var s=n(97458),r=n(52983),a=n(68985),o=n(11499);function i(e,t){if(!t.error)return delete e[t.key],e;if(t)return{...e,[t.key]:t.error};throw Error()}function l(e){let{validate:t,...n}=e,[l,c]=(0,r.useReducer)(i,null),d=(0,a.TA)({validateOnBlur:!0,...n,validationSchema:n.validationSchema,initialValues:n.initialValues,onSubmit:n.onSubmit,validate:t||function(){return l}});return(0,s.jsx)("form",{id:n.id,name:n.name,onSubmit:d.handleSubmit,className:n.className,style:n.style,method:"POST","data-sentry-component":"Form","data-sentry-source-file":"Form.tsx",children:(0,s.jsx)(o.o,{values:d.values,errors:d.errors,formContextOnChange:d.handleChange,handleBlur:d.handleBlur,touched:d.touched,fieldLevelValidation:function(e,t){c({key:e,error:t})},"data-sentry-element":"FormContextProvider","data-sentry-source-file":"Form.tsx",children:n.children({errors:d.errors,touched:d.touched,isSubmitting:d.isSubmitting,isValidating:d.isValidating,submitCount:d.submitCount,initialValues:d.initialValues,values:d.values,handleReset:d.handleReset,resetForm:d.resetForm,setFieldValue:d.setFieldValue})})})}},85818:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var s=n(97458),r=n(44809),a=n(62923),o=n.n(a),i=n(52983),l=n(68249),c=n(51487),d=n(16720),u=n(25843),m=n(65092),f=n(11499);let x=(0,i.createContext)({onChange:e=>{},selected:void 0});var p=n(62507);function h(e){let{children:t,className:n,buttonClassName:a,descriptionText:p,error:h,icon:y,id:j="",name:g="",label:v,labelOptional:b,layout:N,value:w,onChange:k,onFocus:C,onBlur:S,style:P,size:_="medium",defaultValue:D,validation:A,disabled:Z,optionsWidth:T}=e,[M,L]=(0,i.useState)(void 0),[R,z]=(0,i.useState)({}),E=(0,u.Z)("listbox"),F=(0,i.useRef)(null),{formContextOnChange:B,values:O,errors:I,handleBlur:V,touched:q,fieldLevelValidation:U}=(0,f.G)();O&&!w&&(w=O[j||g],D=O[j||g]),h||(I&&!h&&(h=I[j||g]),h=q&&q[j||g]?h:void 0),(0,i.useEffect)(()=>{void 0!==w&&L(w)},[w]),(0,i.useEffect)(()=>{function e(){var e;document.documentElement.style.setProperty("--width-listbox","".concat(T||(null===(e=F.current)||void 0===e?void 0:e.offsetWidth),"px"))}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),(0,i.useEffect)(()=>{var e;let n=o()(t);function s(e){return n.find(t=>t.props.value===e)}if(w){L(w);let e=s(w);z((null==e?void 0:e.props)?e.props:void 0);return}if(M){let e=s(M);z((null==e?void 0:e.props)?e.props:void 0);return}if(D){L(D);let e=s(M);z((null==e?void 0:e.props)?e.props:void 0);return}z(null===(e=n[0])||void 0===e?void 0:e.props)},[M]);let W=[E.container,E.base,a],G=[E.addOnBefore];return h&&W.push(E.variants.error),h||W.push(E.variants.standard),y&&G.push(E.with_icon),_&&W.push(E.size[_]),Z&&W.push(E.disabled),(0,s.jsx)(l.l,{label:v,labelOptional:b,layout:N,id:j,error:h,descriptionText:p,className:n,style:P,size:_,"data-sentry-element":"FormLayout","data-sentry-component":"Listbox","data-sentry-source-file":"Listbox2.tsx",children:(0,s.jsxs)(r.fC,{"data-sentry-element":"unknown","data-sentry-source-file":"Listbox2.tsx",children:[(0,s.jsx)(r.xz,{asChild:!0,disabled:Z,"data-sentry-element":"unknown","data-sentry-source-file":"Listbox2.tsx",children:(0,s.jsxs)("button",{"data-size":_,ref:F,className:(0,m.cn)(W),onBlur:function(e){V&&V(e),S&&S(e)},onFocus:C,name:g,id:j,children:[(0,s.jsxs)("span",{className:(0,m.cn)(G),children:[y&&(0,s.jsx)(d.Z,{size:_,icon:y}),(null==R?void 0:R.addOnBefore)&&(0,s.jsx)(R.addOnBefore,{}),(0,s.jsx)("span",{className:E.label,children:null==R?void 0:R.label})]}),(0,s.jsx)("span",{className:E.chevron_container,children:(0,s.jsx)("svg",{className:E.chevron,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-sentry-element":"svg","data-sentry-source-file":"Listbox2.tsx",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd","data-sentry-element":"path","data-sentry-source-file":"Listbox2.tsx"})})}),h&&(0,s.jsx)("div",{className:E.actions_container,children:h&&(0,s.jsx)(c.Z,{size:_})})]})}),(0,s.jsx)(r.VY,{sideOffset:6,loop:!0,side:"bottom",align:"center",className:E.options_container,"data-sentry-element":"unknown","data-sentry-source-file":"Listbox2.tsx",children:(0,s.jsx)("div",{children:(0,s.jsx)(x.Provider,{value:{onChange:function(e){k&&k(e),L(e);let t={};t.target={type:"select",name:g,id:j,value:e,checked:void 0},B&&B(t),A&&U(j,A(e))},selected:M},"data-sentry-element":"unknown","data-sentry-source-file":"Listbox2.tsx",children:t})})})]})})}h.Option=function(e){let{id:t,value:n,label:a,disabled:o=!1,children:i,className:l="",addOnBefore:c}=e,d=(0,u.Z)("listbox");return(0,s.jsx)(x.Consumer,{"data-sentry-element":"unknown","data-sentry-component":"SelectOption","data-sentry-source-file":"Listbox2.tsx",children:e=>{let{onChange:a,selected:u}=e,f=u===n;return(0,s.jsxs)(r.ck,{className:(0,m.cn)(d.option,f?d.option_active:" ",o?d.option_disabled:" ",l),onSelect:()=>o?{}:a(n),children:[(0,s.jsxs)("div",{className:d.option_inner,children:[c&&c({active:f,selected:u}),(0,s.jsx)("span",{children:"function"==typeof i?i({active:f,selected:u}):i})]}),f?(0,s.jsx)("span",{className:(0,m.cn)(d.option_check,f?d.option_check_active:""),children:(0,s.jsx)(p.Z,{className:d.option_check_icon,"aria-hidden":"true"})}):null]},t)}})};var y=h},94059:function(e,t,n){"use strict";n.d(t,{ZP:function(){return m}});var s=n(97458),r=n(52983),a=n(25843),o=n(65092);function i(e){let{children:t,className:n,tag:r="div",style:a}=e;return(0,s.jsx)("".concat(r),{style:a,"data-sentry-element":"CustomTag","data-sentry-component":"Typography","data-sentry-source-file":"Typography.tsx",children:t})}i.Title=function(e){let{className:t,level:n=1,children:r,style:a}=e;return(0,s.jsx)("h".concat(n),{style:a,"data-sentry-element":"CustomTag","data-sentry-component":"Title","data-sentry-source-file":"Title.tsx",children:r})},i.Text=function(e){let{className:t,children:n,style:r,type:a,disabled:o,mark:i,code:l,keyboard:c,underline:d,strikethrough:u,strong:m,small:f}=e;return l?(0,s.jsx)("code",{style:r,children:n}):i?(0,s.jsx)("mark",{style:r,children:n}):c?(0,s.jsx)("kbd",{style:r,children:n}):m?(0,s.jsx)("strong",{style:r,children:n}):(0,s.jsx)("span",{style:r,"data-sentry-component":"Text","data-sentry-source-file":"Text.tsx",children:n})},i.Link=function(e){let{children:t,target:n="_blank",href:r,className:a,onClick:o,style:i}=e;return(0,s.jsx)("a",{onClick:o,href:r,target:n,rel:"noopener noreferrer",style:i,"data-sentry-component":"Link","data-sentry-source-file":"Link.tsx",children:t})};let l=(0,r.createContext)({type:"text"}),c=e=>{let{type:t}=e;return(0,s.jsx)(l.Provider,{value:{type:t},"data-sentry-element":"unknown","data-sentry-component":"MenuContextProvider","data-sentry-source-file":"MenuContext.tsx",children:e.children})},d=()=>{let e=(0,r.useContext)(l);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function u(e){let{children:t,className:n,ulClassName:r,style:a,type:o="text"}=e;return(0,s.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:n,style:a,"data-sentry-component":"Menu","data-sentry-source-file":"Menu.tsx",children:(0,s.jsx)(c,{type:o,"data-sentry-element":"MenuContextProvider","data-sentry-source-file":"Menu.tsx",children:(0,s.jsx)("ul",{className:r,children:t})})})}u.Item=function(e){let{children:t,icon:n,active:r,rounded:i,onClick:l,doNotCloseOverlay:c=!1,showActiveBar:u=!1,style:m}=e,f=(0,a.Z)("menu"),{type:x}=d(),p=[f.item.base];p.push(f.item.variants[x].base),r?p.push(f.item.variants[x].active):p.push(f.item.variants[x].normal);let h=[f.item.content.base];r?h.push(f.item.content.active):h.push(f.item.content.normal);let y=[f.item.icon.base];return r?y.push(f.item.icon.active):y.push(f.item.icon.normal),(0,s.jsxs)("li",{role:"menuitem",className:(0,o.cn)("outline-none",p),style:m,onClick:l,"aria-current":r?"page":void 0,"data-sentry-component":"Item","data-sentry-source-file":"Menu.tsx",children:[n&&(0,s.jsx)("div",{className:"".concat(y.join(" ")," min-w-fit"),children:n}),(0,s.jsx)("span",{className:h.join(" "),children:t})]})},u.Group=function(e){let{children:t,icon:n,title:r}=e,o=(0,a.Z)("menu"),{type:i}=d();return(0,s.jsxs)("div",{className:[o.group.base,o.group.variants[i]].join(" "),"data-sentry-component":"Group","data-sentry-source-file":"Menu.tsx",children:[n&&(0,s.jsx)("span",{className:o.group.icon,children:n}),(0,s.jsx)("span",{className:o.group.content,children:r}),t]})},u.Misc=function(e){let{children:t}=e;return(0,s.jsx)("div",{"data-sentry-component":"Misc","data-sentry-source-file":"Menu.tsx",children:(0,s.jsx)(i.Text,{"data-sentry-element":"unknown","data-sentry-source-file":"Menu.tsx",children:(0,s.jsx)("span",{children:t})})})};var m=u},62210:function(e,t,n){"use strict";n.d(t,{r:function(){return d}});var s=n(97458),r=n(56384),a=n(31706),o=n(52983),i=n(65092);let l=(0,a.j)("peer inline-flex shrink-0 cursor-pointer items-center rounded-full border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-brand data-[state=checked]:hover:bg-brand-600/90 data-[state=unchecked]:bg-control data-[state=unchecked]:hover:bg-border",{variants:{size:{small:"h-[16px] w-[28px]",medium:"h-[20px] w-[34px]",large:"h-[24px] w-[44px]"}},defaultVariants:{size:"medium"}}),c=(0,a.j)("pointer-events-none block rounded-full bg-foreground-lighter data-[state=checked]:bg-white shadow-lg ring-0 transition-transform",{variants:{size:{small:"h-[12px] w-[12px] data-[state=checked]:translate-x-[13px] data-[state=unchecked]:translate-x-[1px]",medium:"h-[16px] w-[16px] data-[state=checked]:translate-x-[15px] data-[state=unchecked]:translate-x-[1px]",large:"h-[18px] w-[18px] data-[state=checked]:translate-x-[22px] data-[state=unchecked]:translate-x-[3px]"}},defaultVariants:{size:"medium"}}),d=o.forwardRef((e,t)=>{let{className:n,size:a,...o}=e;return(0,s.jsx)(r.fC,{className:(0,i.cn)(l({size:a}),n),...o,ref:t,children:(0,s.jsx)(r.bU,{className:(0,i.cn)(c({size:a}))})})});d.displayName=r.fC.displayName},36406:function(e,t,n){"use strict";n.d(t,{EB:function(){return u},Qy:function(){return p},SL:function(){return m},Wo:function(){return d},yg:function(){return f}});var s=n(85466),r=n.n(s),a=n(52983),o=n(34653),i=n(48736),l=n(49160),c=n(53496);let d=()=>{let{pagesState:e}=(0,i.D)(),{commandPages:t,pageStack:n}=(0,o.R)(e),s=n.at(-1);return(0,a.useMemo)(()=>s&&t[s]?{...t[s],name:s}:void 0,[t,s])},u=()=>{let e=d();if(e&&(0,l.sG)(e))return e.component},m=()=>{let{pagesState:e}=(0,i.D)(),t=(0,c.A)();return function(n){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.appendPageStack(n),s||t("")}},f=()=>{let{pagesState:e}=(0,i.D)(),{popPageStack:t}=(0,o.R)(e);return t},x=[],p=function(e,t){let{deps:n=x,enabled:s=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{pagesState:l}=(0,i.D)(),{registerNewPage:c}=(0,o.R)(l),d=(0,a.useRef)(n),u=(0,a.useRef)(s),m=(0,a.useRef)();(0,a.useMemo)(()=>{if(!r()(d.current,n)||u.current!==s){var a;null===(a=m.current)||void 0===a||a.call(m),m.current=s?c(e,t):void 0,d.current=n,u.current=s}},[c,e,t,n,s]),(0,a.useEffect)(()=>(m.current=s?c(e,t):void 0,()=>{var e;return null===(e=m.current)||void 0===e?void 0:e.call(m)}),[])}},53496:function(e,t,n){"use strict";n.d(t,{A:function(){return o},a:function(){return a}});var s=n(34653),r=n(48736);let a=()=>{let{queryState:e}=(0,r.D)(),{query:t}=(0,s.R)(e);return t},o=()=>{let{queryState:e}=(0,r.D)(),{setQuery:t}=(0,s.R)(e);return t}},56384:function(e,t,n){"use strict";n.d(t,{bU:function(){return N},fC:function(){return b}});var s=n(83573),r=n(52983),a=n(12527),o=n(61031),i=n(95831),l=n(29650),c=n(87178),d=n(56807),u=n(36986);let m="Switch",[f,x]=(0,i.b)(m),[p,h]=f(m),y=(0,r.forwardRef)((e,t)=>{let{__scopeSwitch:n,name:i,checked:c,defaultChecked:d,required:m,disabled:f,value:x="on",onCheckedChange:h,...y}=e,[j,b]=(0,r.useState)(null),N=(0,o.e)(t,e=>b(e)),w=(0,r.useRef)(!1),k=!j||!!j.closest("form"),[C=!1,S]=(0,l.T)({prop:c,defaultProp:d,onChange:h});return(0,r.createElement)(p,{scope:n,checked:C,disabled:f},(0,r.createElement)(u.WV.button,(0,s.Z)({type:"button",role:"switch","aria-checked":C,"aria-required":m,"data-state":v(C),"data-disabled":f?"":void 0,disabled:f,value:x},y,{ref:N,onClick:(0,a.M)(e.onClick,e=>{S(e=>!e),k&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})})),k&&(0,r.createElement)(g,{control:j,bubbles:!w.current,name:i,value:x,checked:C,required:m,disabled:f,style:{transform:"translateX(-100%)"}}))}),j=(0,r.forwardRef)((e,t)=>{let{__scopeSwitch:n,...a}=e,o=h("SwitchThumb",n);return(0,r.createElement)(u.WV.span,(0,s.Z)({"data-state":v(o.checked),"data-disabled":o.disabled?"":void 0},a,{ref:t}))}),g=e=>{let{control:t,checked:n,bubbles:a=!0,...o}=e,i=(0,r.useRef)(null),l=(0,c.D)(n),u=(0,d.t)(t);return(0,r.useEffect)(()=>{let e=i.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==n&&t){let s=new Event("click",{bubbles:a});t.call(e,n),e.dispatchEvent(s)}},[l,n,a]),(0,r.createElement)("input",(0,s.Z)({type:"checkbox","aria-hidden":!0,defaultChecked:n},o,{tabIndex:-1,ref:i,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function v(e){return e?"checked":"unchecked"}let b=y,N=j}},function(e){e.O(0,[6665,7623,588,305,6402,1864,8703,1018,4975,4376,9621,3954,441,9911,3760,4637,8069,9344,7726,6739,4098,902,8985,5518,4847,1379,2047,9803,7414,1853,9774,2888,179],function(){return e(e.s=11177)}),_N_E=e.O()}]);